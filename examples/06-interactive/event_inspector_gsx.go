// Code generated by tui generate. DO NOT EDIT.
// Source: event_inspector.gsx

package main

import (
	"fmt"

	tui "github.com/grindlemire/go-tui"
)

type eventInspector struct {
	lastEvent  *tui.State[string]
	eventCount *tui.State[int]
}

func EventInspector(events *tui.Events[string]) *eventInspector {
	e := &eventInspector{
		lastEvent:  tui.NewState("(none)"),
		eventCount: tui.NewState(0),
	}

	events.Subscribe(func(event string) {
		e.lastEvent.Set(event)
		e.eventCount.Set(e.eventCount.Get() + 1)
	})

	return e
}

func (e *eventInspector) Render(app *tui.App) *tui.Element {
	__tui_0 := tui.New(
		tui.WithBorder(tui.BorderSingle),
		tui.WithPadding(1),
		tui.WithDirection(tui.Column),
		tui.WithGap(1),
		tui.WithFlexGrow(1),
		tui.WithJustify(tui.JustifyCenter),
		tui.WithWidthPercent(50.00),
	)
	__tui_1 := tui.New(
		tui.WithText("Event Inspector"),
		tui.WithTextGradient(tui.NewGradient(tui.Magenta, tui.Cyan).WithDirection(tui.GradientHorizontal)),
		tui.WithTextAlign(tui.TextAlignCenter),
		tui.WithTextStyle(tui.NewStyle().Bold()),
	)
	__tui_0.AddChild(__tui_1)
	__tui_2 := tui.New(
		tui.WithDirection(tui.Row),
		tui.WithGap(1),
		tui.WithAlign(tui.AlignCenter),
		tui.WithJustify(tui.JustifyCenter),
	)
	__tui_3 := tui.New(
		tui.WithText("Last:"),
		tui.WithTextStyle(tui.NewStyle().Dim()),
	)
	__tui_2.AddChild(__tui_3)
	__tui_4 := tui.New(
		tui.WithText(e.lastEvent.Get()),
		tui.WithTextStyle(tui.NewStyle().Foreground(tui.Magenta).Bold()),
	)
	__tui_2.AddChild(__tui_4)
	__tui_0.AddChild(__tui_2)
	__tui_5 := tui.New(
		tui.WithDirection(tui.Row),
		tui.WithGap(1),
		tui.WithAlign(tui.AlignCenter),
		tui.WithJustify(tui.JustifyCenter),
	)
	__tui_6 := tui.New(
		tui.WithText("Count:"),
		tui.WithTextStyle(tui.NewStyle().Dim()),
	)
	__tui_5.AddChild(__tui_6)
	__tui_7 := tui.New(
		tui.WithText(fmt.Sprintf("%d", e.eventCount.Get())),
		tui.WithTextStyle(tui.NewStyle().Foreground(tui.Cyan).Bold()),
	)
	__tui_5.AddChild(__tui_7)
	__tui_0.AddChild(__tui_5)

	return __tui_0
}
